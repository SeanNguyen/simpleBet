<div class="container viewBet">
    <div ui-view>
        <div class="question" layout="column" layout-align="space-around center" ng-show="isUserPending(user.id)">
            <h1 ng-bind="bet.question">?</h1>
            <h5 ng-bind="creator.name">?</h5>
        </div>

        <div class="expireTime" layout="row" layout-align="center center">
            <img src="assets/icon_sandClock.png">
            <label>Expires in: </label>
            <label class="highlight">{{Math.floor(expireDuration / 60 / 24)}} d</label>
            <label class="highlight">{{Math.floor(expireDuration / 60) % 24}} hrs</label>
            <label class="highlight">{{expireDuration % 60}} mins</label>
        </div>

        <div class="options" ng-show="isUserPending(user.id)">
            <h5>Pick an Answer:</h5>
            <md-radio-group ng-model="input.option">
                <md-whiteframe class="md-whiteframe-z2 option" layout="row" layout-align="left center" 
                               ng-repeat="option in input.options">
                    <md-radio-button ng-value="option.content" ng-click="onOptionClick(option)" 
                        ng-disabled="!isUserPending(user.id)">
                        {{option.content}}
                    </md-radio-button>
                </md-whiteframe>
            </md-radio-group>
        </div>

        <div class="otherUserOptions" ng-show="!isUserPending(user.id)">
            <div class="header">
                <h4>GAME ON</h4>
                <h6>The bets of the other participants are shown below</h6>
            </div>
            <md-whiteframe class="md-whiteframe-z2 option" layout layout-align="center center" ng-repeat="option in input.options">
                <div flex="60" class="content">{{option.content}}</div>
                <div flex="40" class="userList" layout="row" layout-align="end center" layout-wrap>
                    <div ng-repeat="participation in getParticipantByOption(option)" class="user">
                        {{participation.user.name.substring(0,1)}}
                    </div>
                </div>
            </md-whiteframe>
        </div>

        <div class="betWager">
            <h4 class="title">Bet Wager</h4>
            <div layout="row" class="wagerItem" layout-align="center center">
                <div layout="column" flex="20" >
                    <img ng-src="{{bet.winningItem.imageUrl}}" />
                </div>
                <div class="wagerInfo" flex="60">
                    <label ng-bind="bet.winningItem.title">?</label>
                    <p ng-bind="bet.winningItem.description">?</p>
                </div>
                <h1 flex="30" class="wagerCost" ng-bind="bet.winningItem.cost" ng-show="bet.winningItem.type === 0">?</h1>
            </div>
        </div>

        <div class="betParticipants">
            <h4 class="title">Invited Participants</h4>
            <div layout="row" layout-wrap>
                <div flex="33" ng-repeat="participation in bet.participations" layout="column" 
                     class="participantView" ng-class="{deleted: participation.state === 3}" layout-align="center center">
                    <img ng-src="{{participation.user.avatarUrl}}"/>
                    <label ng-bind="participation.user.name">?</label>
                </div>
            </div>
        </div>

        <div class="declineButton" ng-show="getControlButtonState() === 2">
            <md-button class="md-raised btn-normal" ng-click="decline()">Decline Bet</md-button>
        </div>

        <h5 ng-show="!isUserPending(user.id)" class="waitingFooterMessage">
            Kindly wait for all invited participants to respond
            or the timer to expire before the bet can start.
        </h5>
    </div>
</div>
